<div class="staff-container">
  <h2>Assigned Complaints</h2>

  <!-- Loading indicator -->
  <div *ngIf="loading" class="loading">Loading complaints...</div>

  <!-- Complaints Table -->
  <table *ngIf="!loading && complaints.length > 0" class="complaints-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>User ID</th>
        <th>Title</th>
        <th>Description</th>
        <th>Status</th>
        <th>Remarks</th>
        <th>Action</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let c of complaints; trackBy: trackByComplaintId">
        <td>{{ c.id }}</td>
        <td>{{ c.user_id }}</td>
        <td>{{ c.title }}</td>
        <td class="wrap-text">{{ c.description }}</td>
        <td>
          <select [(ngModel)]="c.status">
            <option value="in_progress">In Progress</option>
            <option value="resolved">Resolved</option>
          </select>
        </td>
        <td>
          <input
            type="text"
            [(ngModel)]="c.remarks"
            placeholder="Enter remarks"
          />
        </td>
        <td>
          <button class="update-btn" (click)="updateComplaint(c)">
            Update
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- No complaints -->
  <div *ngIf="!loading && complaints.length === 0" class="no-data">
    No complaints assigned yet.
  </div>
</div>
